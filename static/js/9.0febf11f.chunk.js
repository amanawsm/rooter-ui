(this["webpackJsonpreact-app"]=this["webpackJsonpreact-app"]||[]).push([[9],{110:function(e,t,a){"use strict";a.d(t,"c",(function(){return r})),a.d(t,"b",(function(){return l})),a.d(t,"d",(function(){return o})),a.d(t,"e",(function(){return c})),a.d(t,"a",(function(){return s}));var n=a(9),r=function(){return{type:n.g}},l=function(e){return{type:n.j,param:e}},o=function(e){return{type:n.m,param:e}},c=function(e){return{type:n.a,param:e}},s=function(e){return{type:n.d,param:e}}},111:function(e,t,a){"use strict";var n=a(0),r=a.n(n),l=function(e){var t=e.field,a=e.value,n=e.label,l=e.error,o=e.type,c=e.onChange,s=e.placeholder,i=e.disabled;return r.a.createElement("span",null,r.a.createElement("label",{className:"active",htmlFor:n},n),r.a.createElement("textarea",{onChange:c,value:a,type:o,name:t,placeholder:s,className:"form-control validate",disabled:i}),l&&r.a.createElement("span",{className:"help-block invalid "},l))};l.defaultProps={type:"text",disabled:!1},t.a=l},140:function(e,t,a){"use strict";a.r(t);var n=a(23),r=a(13),l=a(6),o=a(41),c=a(28),s=a(29),i=a(31),m=a(30),u=a(32),d=a(0),p=a.n(d),g=a(10),v=a.n(g),h=a(132),f=a(137),b=a(138),E=a(114),y=a(97),C=a(111),S=a(98),P=a(133),N=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).state={pager:{}},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){this.props.items&&this.props.items.length&&this.setPage(this.props.initialPage)}},{key:"componentDidUpdate",value:function(e,t){this.props.items!==e.items&&this.setPage(this.props.initialPage)}},{key:"setPage",value:function(e){var t=this.props.items,a=this.state.pager;if(!(e<1||e>a.totalPages)){a=this.getPager(t.length,e);var n=t.slice(a.startIndex,a.endIndex+1);this.setState({pager:a}),this.props.onChangePage(n)}}},{key:"getPager",value:function(e,t,a){t=t||1,a=a||10;var n,r,l=Math.ceil(e/a);l<=10?(n=1,r=l):t<=6?(n=1,r=10):t+4>=l?(n=l-9,r=l):(n=t-5,r=t+4);var o=(t-1)*a,c=Math.min(o+a-1,e-1),s=Object(P.a)(Array(r+1-n).keys()).map((function(e){return n+e}));return{totalItems:e,currentPage:t,pageSize:a,totalPages:l,startPage:n,endPage:r,startIndex:o,endIndex:c,pages:s}}},{key:"render",value:function(){var e=this,t=this.state.pager;return!t.pages||t.pages.length<=1?null:p.a.createElement("ul",{className:"pagination"},p.a.createElement("li",{className:1===t.currentPage?"disabled":""},p.a.createElement("a",{onClick:function(){return e.setPage(1)}},"First")),p.a.createElement("li",{className:1===t.currentPage?"disabled":""},p.a.createElement("a",{onClick:function(){return e.setPage(t.currentPage-1)}},"Previous")),t.pages.map((function(a,n){return p.a.createElement("li",{key:n,className:t.currentPage===a?"active":""},p.a.createElement("a",{onClick:function(){return e.setPage(a)}},a))})),p.a.createElement("li",{className:t.currentPage===t.totalPages?"disabled":""},p.a.createElement("a",{onClick:function(){return e.setPage(t.currentPage+1)}},"Next")),p.a.createElement("li",{className:t.currentPage===t.totalPages?"disabled":""},p.a.createElement("a",{onClick:function(){return e.setPage(t.totalPages)}},"Last")))}}]),t}(p.a.Component),_=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).onChange=function(e){a.setState(Object(o.a)({},e.target.name,e.target.value))},a.onSelectChange=function(e){a.setState({value:e.target.value})},a.submitDeploymentRequest=function(){var e=a.props,t=e.addDploymentRequestInfo,n=e.getDeploymentRequestInfo,r=a.state,l=r.environment_id,o=r.program_id,c=r.application_id,s=r.version,i=r.description;""==a.state.environment_id||""==a.state.description?alert("Please fill required fields!"):(t({environment_id:l,program_id:o,application_id:c,version:s,description:i}),a.onCloseModal(),n(a.state.searchJson))},a.searchDeploymentRequest=function(){},a.onCloseModal=function(){a.setState({showModal:!1})},a.state={environmrnt_id:"",program_id:"",application_id:"",version:"",description:"",showModal:!1,search_text:"",from:"",to:"",programListSeleted:[],updateDeploymentId:"",searchJson:{draw:3,columns:[{data:"id",name:"",searchable:!0,orderable:!0,search:{value:"",regex:!1}},{data:"description",name:"",searchable:!0,orderable:!0,search:{value:"",regex:!1}},{data:"status",name:"",searchable:!0,orderable:!0,search:{value:"",regex:!1}},{data:"requested_by",name:"",searchable:!0,orderable:!0,search:{value:"",regex:!1}},{data:"created_at",name:"",searchable:!0,orderable:!0,search:{value:"",regex:!1}},{data:"id",name:"",searchable:!1,orderable:!1,search:{value:"",regex:!1}}],order:[{column:0,dir:"desc"}],start:0,length:10,search:{value:"",regex:!1,from_date:"",to_date:""}}},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"updateStatusForDeploymentRequest",value:function(e,t){(0,this.props.updateDploymentRequestStatus)({id:e,status:t.target.value})}},{key:"componentDidMount",value:function(){var e=this.props,t=e.getDeploymentRequestInfo,a=e.getEnvironemntInfo,n=e.LoginStore.user;v.a.defaults.headers.common.Authorization="Bearer ".concat(n&&n.token),t(this.state.searchJson),a()}},{key:"onChangeProgram",value:function(e,t,a){console.log("versionversion",e,t,a);var n=this.state.programListSeleted;n[t][a]=e,this.setState({programListSeleted:n})}},{key:"render",value:function(){var e=this,t=this.state,a=t.environment_id,n=t.programListSeleted,r=(t.program_id,t.application_id),o=(t.version,t.description,t.app_name),c=t.search_text,s=t.from,i=t.to,m=t.showModal,u=this.props,d=u.DeploymentRequestStore.deploymentRequest,g=u.getSelectTabProgramData,v=u.DashboardStore,P=v.dashboradInfo,_=v.appProgramList,D=v.appList,k=v.dashboradTabInfo,I=u.getappdata,q=u.getAppProgram,x=[];return _&&_.map((function(e){return x.push({value:e.program_id,label:e.program_name,name:e.program_name,version:e.version,version_id:e.version_id,description:""})})),p.a.createElement(p.a.Fragment,null,p.a.createElement(f.a,{show:m,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,onHide:this.onCloseModal},p.a.createElement(f.a.Header,{closeButton:!0},p.a.createElement(f.a.Title,{id:"contained-modal-title-vcenter"},"New Deployment Request")),p.a.createElement(f.a.Body,null,p.a.createElement("div",{className:"form-group"},p.a.createElement(b.a.Group,{controlId:"exampleForm.ControlSelect1"},p.a.createElement(b.a.Label,null,"Select Environment"),p.a.createElement(b.a.Control,{value:a,as:"select",onChange:function(t){e.setState({environment_id:t.target.value}),g({tabId:t.target.value})}},p.a.createElement("option",{value:""},"Select Environment "),P&&P.map((function(e){return p.a.createElement("option",{value:e.id},e.name)}))))),p.a.createElement("div",{className:"form-group"},p.a.createElement(b.a.Group,{controlId:"exampleForm.ControlSelect1"},p.a.createElement(b.a.Label,null,"Select Type  "),p.a.createElement(b.a.Control,{value:r,as:"select",onChange:function(t){e.setState({application_id:t.target.value}),I({env_id:a,app_type_id:t.target.value})}},p.a.createElement("option",{value:""},"Select Applications "),k&&k.map((function(e){return p.a.createElement("option",{value:e.id},e.name)}))))),p.a.createElement("div",{className:"form-group"},p.a.createElement(b.a.Group,{controlId:"exampleForm.ControlSelect1"},p.a.createElement(b.a.Label,null,"Select App "),p.a.createElement(b.a.Control,{value:o,as:"select",onChange:function(t){e.setState({app_name:t.target.value}),q({env_id:a,app_name:t.target.value,app_type_id:r})}},p.a.createElement("option",{value:""},"Select Applications "),D&&D.map((function(e){return p.a.createElement("option",{value:e.name},e.name)}))))),p.a.createElement("div",{className:"form-group"},p.a.createElement(h.a,{theme:function(e){return Object(l.a)({},e,{border:0,colors:Object(l.a)({},e.colors,{primary25:"01a8f9",primary:"#039be5"})})},options:x,value:n||[],isMulti:!0,name:"year",className:"browser-default",placeholder:"Select an option",onChange:function(t){console.log("eventeventevent",t),e.setState({programListSeleted:t||[]})}}),n.map((function(t,a){return p.a.createElement("div",{key:a},t.name,p.a.createElement(y.a,{field:"text",label:"",value:t.version||"",className:"form-control",placeholder:"Version",onChange:function(t){return e.onChangeProgram(t.target.value,a,"version")}}),p.a.createElement(C.a,{field:"description",label:"Description*",value:t.description||"",type:"text",onChange:function(t){return e.onChangeProgram(t.target.value,a,"description")},className:"form-control",placeholder:"Description"}))})))),p.a.createElement(f.a.Footer,null,p.a.createElement(E.a,{type:"button",className:"btn btn-secondary",onClick:this.onCloseModal},"Cancel"),p.a.createElement(E.a,{type:"button",onClick:this.submitDeploymentRequest,className:"btn btn-primary"},"Save"))),p.a.createElement("div",{id:"left-panel",className:"left-panel"},p.a.createElement("div",{className:"content"},p.a.createElement("div",{className:"animated fadedIn"},p.a.createElement("div",{className:"row"},p.a.createElement("div",{className:"col-md-12"},p.a.createElement("div",{className:"card"},p.a.createElement("div",{className:"card-header"},p.a.createElement("strong",{className:"card-title"},"Manage Deployment Requests")),p.a.createElement("div",{className:"card-body"},p.a.createElement("button",{type:"button",onClick:function(){e.setState({showModal:!0})},className:"btn btn-primary mb-1"},"Add Deployment Request"),p.a.createElement("div",{class:"row form-group"},p.a.createElement("div",{class:"col col-sm-3"},p.a.createElement(y.a,{field:"search",label:"",value:c||"",className:"form-control",placeholder:"Search By Title",onChange:this.onChange})),p.a.createElement("div",{class:"col col-sm-3"},p.a.createElement(y.a,{field:"from",label:"",value:s||"",className:"form-control",placeholder:"Search By From Date",onChange:this.onChange})),p.a.createElement("div",{class:"col col-sm-3"},p.a.createElement(y.a,{field:"to",label:"",value:i||"",className:"form-control",placeholder:"Search By To Date",onChange:this.onChange}))),p.a.createElement(S.a,{className:"btn btn-primary",variant:"primary",type:"submit",label:"Search"})),p.a.createElement("table",{id:"bootstrap-data-table",className:"table table-striped table-bordered"},p.a.createElement("thead",null,p.a.createElement("tr",null,p.a.createElement("th",null,"Program Version"),p.a.createElement("th",null,"Requested Branch"),p.a.createElement("th",null,"Requested By"),p.a.createElement("th",null,"Description"),p.a.createElement("th",null,"TechnicianId"),p.a.createElement("th",null,"Status"))),p.a.createElement("tbody",null,d&&d.map((function(t,a){return p.a.createElement("tr",null,p.a.createElement("td",null,t.program_version),p.a.createElement("td",null,t.requested_branch.new_version),p.a.createElement("td",null,t.requested_by),p.a.createElement("td",null,t.description),p.a.createElement("td",null,t.technician_id.name),p.a.createElement("td",null,p.a.createElement("select",{onChange:function(a){e.updateStatusForDeploymentRequest(t.id,a)},name:"deploymentStatus",id:"deploymentStatus",value:t.status,class:"form-control"},p.a.createElement("option",{value:"open"},"Open"),p.a.createElement("option",{value:"wait"},"In Progress"),p.a.createElement("option",{value:"hold"},"Hold"),p.a.createElement("option",{value:"done"},"Done"),p.a.createElement("option",{value:"not done"},"Not Done"))))})),";")),p.a.createElement(N,{items:d,onChangePage:function(t){e.setState({pageOfItems:t})}}))))))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a=e.DashboardStore.dashboradInfo;return a!==t.dashboradInfoData?{dashboradInfoData:a,tabId:Number(a&&a.id)}:null}}]),t}(d.Component),D=a(110),k={getDeploymentRequestInfo:function(e){return function(e){return{type:r.a,params:e}}(e)},addDploymentRequestInfo:function(e){return t=e,{type:r.a,param:t};var t},updateDploymentRequestStatus:function(e){return t=e,{type:r.d,param:t};var t},getEnvironemntInfo:function(){return Object(D.c)()},getSelectTabProgramData:function(e){return Object(D.d)(e)},getDashboradProgramData:function(e){return Object(D.b)(e)},getappdata:function(e){return Object(D.e)(e)},getAppProgram:function(e){return Object(D.a)(e)}};t.default=Object(n.b)((function(e){return e}),k)(_)},97:function(e,t,a){"use strict";var n=a(0),r=a.n(n),l=function(e){var t=e.field,a=e.value,n=e.label,l=e.error,o=e.type,c=e.onChange,s=e.placeholder,i=e.disabled;return r.a.createElement("span",null,r.a.createElement("label",{className:"active",htmlFor:n},n),r.a.createElement("input",{onChange:c,value:a,type:o,name:t,placeholder:s,className:"form-control validate",disabled:i}),l&&r.a.createElement("span",{className:"help-block invalid"},l))};l.defaultProps={type:"text",disabled:!1},t.a=l},98:function(e,t,a){"use strict";var n=a(0),r=a.n(n),l=a(114),o=function(e){var t=e.className,a=e.type,n=e.label,o=e.onClick,c=e.disabled;return r.a.createElement(l.a,{className:t,type:a,name:"action",onClick:o,disabled:c,variant:"primary"},n)};o.defaultProps={disabled:!1,className:"",type:"submit",onClick:function(){}},t.a=o}}]);
//# sourceMappingURL=9.0febf11f.chunk.js.map